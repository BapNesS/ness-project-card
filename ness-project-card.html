<!--
`ness-project-card` is a element that can be used in order to display a card with project informations and a link.
-->

<link href="../polymer/polymer.html" rel="import">
<link href="../paper-button/paper-button.html" rel="import">
<link href="../iron-icon/iron-icon.html" rel="import">

<dom-module id="ness-project-card">

  <style>
        .card {
            position: relative;
            width: 450px;
            height: 300px;
            margin-bottom: 20px;
            margin-right: 20px;
            padding : 0px;
            background-color: #ffffff;
            box-sizing: border-box;
            outline: none;
            border-radius: 4px;
            display: inline-block;
            float: left;
            @apply(--shadow-elevation-2dp);
        }
      
        @media only screen and (max-width: 850px) {
            .card {
                width: 100%;
                height: 360px;
            }
        }

        @media only screen and (min-width: 851px) and (max-width: 1293px) {
            .card {
                width: 95%;
                height: 360px;
            }
        }
      
      .inner {
            padding : 20px;
            padding-top: 10px;
      }
      
      h2 {
          margin: 0px;
          padding: 0px;
          font-weight: 400;
      }
      
      .czontent, pz {
          margin: 0px;
          padding: 0px;
      }
      .action {
            position: absolute;
            top: auto;
            left: auto;
            bottom: 0.30em;
            right: 0px;
      }
      .action paper-button {
          font-weight: 400;
      }
      paper-button.buttonWithIcon {
          padding-left: 14px;
          padding-right: 14px;
      }
  </style>

  <template>
      
    <div class="card">
        <div class="inner">
            <h2>{{title}}</h2>
            <content></content>
            <p><strong>Comp√©tences :</strong> <span>{{formatSkills}}</span>.</p>
        </div>
        <div class="action"><a href="{{link}}" target="_blank"><paper-button class="buttonWithIcon"><iron-icon icon="link"></iron-icon>Lien</paper-button></a></div>
    </div>

  </template>

</dom-module>

<script>

    Polymer({
        is: 'ness-project-card',
        properties: {
            title: String,
            skills: {
                type: Object,
                value: function() {
                    return [];
                }
            },
            link: String,
            formatSkills: {
                type: String,
                computed: 'computeFormatSkills(skills)'
            }
        },
        computeFormatSkills: function(skills) {
            var res = '';
            for (i = 0; i < skills.length; i++) { 
                var s = skills[i];
                if ( i == 0 ) {
                    res = s;
                } else if ( i == skills.length-1 ) {
                    res = res + ' et '+ s;
                } else {
                    res = res + ', '+s;
                }
                if ( i == skills.length-1 ) {
                    res = res + '.';
                }
            }
            return res;
        }
    });

</script>
